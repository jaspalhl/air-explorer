<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>AIR Data Explorer: Authentic Inclusive Representation (Center for Scholars & Storytellers, 2025)</title>
<meta property="og:url" content="https://air-explorer.vercel.app/" />
<meta property="og:title" content="AIR Data Explorer: Authentic Inclusive Representation in Film & TV" />
<meta property="og:description" content="Critics vs Audience • Film vs TV • Size = # of AIR raters." />
<meta property="og:type" content="website" />
<meta property="og:image" content="https://air-explorer.vercel.app/og.png?v=3" />
<meta property="og:image:width" content="1200" />
<meta property="og:image:height" content="630" />
<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:title" content="AIR Data Explorer: Authentic Inclusive Representation in Film & TV" />
<meta name="twitter:description" content="Critics vs Audience • Film vs TV • Size = # of AIR raters." />
<meta name="twitter:image" content="https://air-explorer.vercel.app/og.png?v=3" />
<style>
  :root { --film: #1f77b4; --tv: #ff7f0e; }
  body { font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif; margin: 24px; background: #0f172a; color: #e5e7eb; }
  h2 { margin: 0 0 8px 0; font-weight: 700; letter-spacing: 0.2px; }
  .subtitle a { color: #38bdf8; text-decoration: none; } .subtitle a:hover { text-decoration: underline; }
  .wrap { display: grid; grid-template-columns: 1fr; gap: 14px; }
  .card { background: #111827; border: 1px solid #1f2937; border-radius: 14px; padding: 16px; box-shadow: 0 2px 10px rgba(0,0,0,0.25); }
  .controls { display: grid; grid-template-columns: repeat(auto-fit, minmax(220px, 1fr)); gap: 16px; align-items: end; }
  label { font-size: 12px; color: #cbd5e1; display:block; margin-bottom: 6px; }
  select, input[type="text"] { width: 100%; padding: 10px 12px; border-radius: 10px; border: 1px solid #334155; background: #0b1220; color: #e5e7eb; }
  #plot { width: 100%; height: 760px; }
  .btn { padding: 12px 12px; border: 1px solid #334155; border-radius: 10px; background: #1f2937; color: #e5e7eb; cursor: pointer; width: 100%; }
  .btn:hover { background: #334155; }
  .legend-row { display: flex; align-items: center; gap: 16px; flex-wrap: wrap; }
  .key { display:inline-flex; align-items:center; gap:8px; font-size: 13px; color:#cbd5e1; }
  .sq, .ci { width: 12px; height: 12px; display:inline-block; border:1.2px solid rgba(255,255,255,0.6); }
  .sq { background: var(--film); border-radius: 2px; }
  .ci { background: var(--tv); border-radius: 999px; }
  .btn-row { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; }
  .hint { font-size: 12px; color: #9ca3af; margin-top: 6px; display:flex; gap:6px; flex-wrap: wrap; }
  .chip { background:#0b1220; border:1px solid #334155; padding:4px 8px; border-radius:999px; cursor:pointer; }
  .chip:hover { background:#162033; }
  @media (min-width: 1024px) {
    .controls { display: flex; flex-wrap: nowrap; gap: 16px; align-items: end; }
    .ctl { flex: 0 0 auto; }
    .controls .ctl select, .controls .ctl input { width: auto; }
    .ctl-type select { width: 160px; }
    .ctl-age select { width: 220px; }
    .ctl-color select { width: 160px; }
    .ctl-search input { width: 440px; }
    .ctl-actions { width: 220px; }
  }
  @media (max-width: 900px) {
    body { margin: 16px; }
    #plot { height: 70vh; }
  }
  @media (max-width: 640px) {
    body { margin: 12px; }
    .card { padding: 12px; }
    .btn-row { grid-template-columns: 1fr; }
    #plot { height: 65vh; }
  }
</style>
</head>
<body>
  <h2>AIR Data Explorer: Authentic Inclusive Representation in Film & TV</h2>
  <div class="subtitle"><a href="https://www.scholarsandstorytellers.com/air" target="_blank" rel="noopener">data source</a> (Center for Scholars &amp; Storytellers, 2025)</div>

  <div class="wrap">
    <div class="controls card">
      <div class="ctl ctl-type">
        <label>Type</label>
        <select id="typeFilter" multiple size="2">
          <option value="Film">Film</option>
          <option value="TV">TV</option>
        </select>
      </div>
      <div class="ctl ctl-age">
        <label>Age focus</label>
        <select id="ageFilter" multiple size="4">
          <option value="Kids">Kids</option>
          <option value="Teens">Teens</option>
          <option value="Early adults">Early adults</option>
          <option value="Adults">Adults</option>
        </select>
      </div>
      <div class="ctl ctl-labels">
        <label><input id="showLabels" type="checkbox" checked/> Show labels</label>
      </div>
      <div class="ctl ctl-color">
        <label>Color by</label>
        <select id="colorBy">
          <option value="Type" selected>Type (Film/TV)</option>
          <option value="IMDb">IMDb rating</option>
          <option value="Metacritic">Metacritic</option>
          <option value="Awards_Wins">Awards (Wins)</option>
          <option value="Awards_Noms">Awards (Noms)</option>
        </select>
      </div>
      <div class="ctl ctl-search">
        <label>Search title or summary</label>
        <input id="searchTitle" type="text" placeholder="Try: mental health · trans · black · asian"/>
        <div id="searchChips" class="hint"></div>
      </div>
      <div class="ctl ctl-actions">
        <label>&nbsp;</label>
        <div class="btn-row">
          <button id="resetBtn" class="btn">Reset</button>
          <button id="downloadBtn" class="btn">Download PNG</button>
        </div>
      </div>
      <div class="ctl" style="flex:1;"></div>
    </div>

    <div id="plot" class="card"></div>
  </div>

  <script src="https://cdn.plot.ly/plotly-2.30.0.min.js"></script>
  <script>
    const DATA = [{"Title": "A Million Miles Away", "Type": "Film", "Studio": "Amazon Studios", "AIR_Raters": 3, "Summary": "Highlights the Latino experience in STEM and portrays a healthy, supportive family dynamic.", "RT_Critic": 89, "RT_Audience": 94, "IMDb": 7.3, "Metacritic": 62, "Awards_Wins": 5, "Awards_Noms": 6, "Age_Kids": false, "Age_Teens": false, "Age_EarlyAdults": false, "Age_Adults": true, "Primary_Age": "Adults"}, {"Title": "Abbott Elementary", "Type": "TV", "Studio": "ABC", "AIR_Raters": 4, "Summary": "Celebrates diverse female characters, authentic portrayals of caregiving and mental health, and features a rich variety of socioeconomic backgrounds.", "RT_Critic": 99, "RT_Audience": 84, "IMDb": 8.2, "Metacritic": 83, "Awards_Wins": 87, "Awards_Noms": 253, "Age_Kids": false, "Age_Teens": false, "Age_EarlyAdults": false, "Age_Adults": true, "Primary_Age": "Adults"}, {"Title": "Accused", "Type": "TV", "Studio": "Fox", "AIR_Raters": 2, "Summary": "Features a rare portrayal of a disabled surrogate played by a disabled actor, challenging societal assumptions about disability with depth and empathy.", "RT_Critic": 100, "RT_Audience": null, "IMDb": 7.0, "Metacritic": 60, "Awards_Wins": 1, "Awards_Noms": 8, "Age_Kids": false, "Age_Teens": false, "Age_EarlyAdults": false, "Age_Adults": true, "Primary_Age": "Adults"}, {"Title": "American Fiction", "Type": "Film", "Studio": "MGM", "AIR_Raters": 2, "Summary": "Blends satire and drama to highlight nuanced portrayals of Black family caregiving, queer identity, and cultural values with authenticity and emotional resonance.", "RT_Critic": 93, "RT_Audience": 96, "IMDb": 7.5, "Metacritic": 81, "Awards_Wins": 63, "Awards_Noms": 171, "Age_Kids": false, "Age_Teens": false, "Age_EarlyAdults": false, "Age_Adults": true, "Primary_Age": "Adults"}, {"Title": "Beef", "Type": "TV", "Studio": "Netflix", "AIR_Raters": 4, "Summary": "Stands out for its nuanced portrayal of Asian American identity, work-life conflict, and emotional complexity, especially around parenting and professional pressure.", "RT_Critic": 98, "RT_Audience": 87, "IMDb": 8.0, "Metacritic": 86, "Awards_Wins": 52, "Awards_Noms": 59, "Age_Kids": false, "Age_Teens": false, "Age_EarlyAdults": false, "Age_Adults": true, "Primary_Age": "Adults"}, {"Title": "Bel-Air", "Type": "TV", "Studio": "NBCUniversal", "AIR_Raters": 2, "Summary": "Offers a nuanced and emotionally rich portrayal of Black identity, class, and mental health by centering complex, multidimensional Black characters whose intersecting struggles with privilege, race, and substance use are depicted with empathy, depth, and cultural specificity.", "RT_Critic": 85, "RT_Audience": 74, "IMDb": 6.4, "Metacritic": 60, "Awards_Wins": 23, "Awards_Noms": 6, "Age_Kids": false, "Age_Teens": true, "Age_EarlyAdults": false, "Age_Adults": false, "Primary_Age": "Teens"}, {"Title": "Black Cake", "Type": "TV", "Studio": "Hulu", "AIR_Raters": 2, "Summary": "Excellent depiction of Black Caribbean culture, showing depth and nuance in family and community dynamics.", "RT_Critic": 94, "RT_Audience": 82, "IMDb": 7.3, "Metacritic": 68, "Awards_Wins": 3, "Awards_Noms": 9, "Age_Kids": false, "Age_Teens": false, "Age_EarlyAdults": false, "Age_Adults": true, "Primary_Age": "Adults"}, {"Title": "Blue Beetle", "Type": "Film", "Studio": "Warner Bros", "AIR_Raters": 3, "Summary": "Culturally rich and family-oriented superhero film that authentically represents Chicanx/Latinx life and empowers female characters.", "RT_Critic": 77, "RT_Audience": 91, "IMDb": 5.9, "Metacritic": 61, "Awards_Wins": 3, "Awards_Noms": 12, "Age_Kids": false, "Age_Teens": false, "Age_EarlyAdults": true, "Age_Adults": false, "Primary_Age": "Early adults"}, {"Title": "Bottoms", "Type": "Film", "Studio": "MGM", "AIR_Raters": 2, "Summary": "Celebrates queer identity with humor and boldness, letting young lesbian characters lead in a genre typically dominated by straight stories.", "RT_Critic": 90, "RT_Audience": 89, "IMDb": 6.7, "Metacritic": 74, "Awards_Wins": 5, "Awards_Noms": 24, "Age_Kids": false, "Age_Teens": true, "Age_EarlyAdults": false, "Age_Adults": false, "Primary_Age": "Teens"}, {"Title": "Cassandro", "Type": "Film", "Studio": "Amazon Studios", "AIR_Raters": 2, "Summary": "Powerfully portrays the real-life story of a gay Mexican wrestler, celebrating queer identity, resilience, and representation in a hyper-masculine setting.", "RT_Critic": 91, "RT_Audience": 74, "IMDb": 6.5, "Metacritic": 76, "Awards_Wins": 2, "Awards_Noms": 13, "Age_Kids": false, "Age_Teens": false, "Age_EarlyAdults": false, "Age_Adults": true, "Primary_Age": "Adults"}, {"Title": "Expats", "Type": "TV", "Studio": "Amazon Studios", "AIR_Raters": 4, "Summary": "Commended for casting Asian leads and giving complex, humanizing portrayals of domestic workers, while exploring gender expectations and emotional well-being.", "RT_Critic": 85, "RT_Audience": 48, "IMDb": 6.2, "Metacritic": 73, "Awards_Wins": 3, "Awards_Noms": 16, "Age_Kids": false, "Age_Teens": false, "Age_EarlyAdults": false, "Age_Adults": true, "Primary_Age": "Adults"}, {"Title": "Flamin' Hot", "Type": "Film", "Studio": "Searchlight", "AIR_Raters": 4, "Summary": "Celebrates Latinx family unity and innovation, spotlighting a true story of resilience and cultural pride in the face of economic hardship.", "RT_Critic": 68, "RT_Audience": 87, "IMDb": 6.7, "Metacritic": 58, "Awards_Wins": 7, "Awards_Noms": 8, "Age_Kids": false, "Age_Teens": false, "Age_EarlyAdults": false, "Age_Adults": true, "Primary_Age": "Adults"}, {"Title": "Girls State", "Type": "Film", "Studio": "Apple TV+", "AIR_Raters": 2, "Summary": "Uplifting documentary that shows young women empowering each other, advocating for equity, and engaging in tough social conversations with maturity.", "RT_Critic": 95, "RT_Audience": 71, "IMDb": 6.6, "Metacritic": 77, "Awards_Wins": 2, "Awards_Noms": 8, "Age_Kids": false, "Age_Teens": true, "Age_EarlyAdults": false, "Age_Adults": false, "Primary_Age": "Teens"}, {"Title": "Good Omens", "Type": "TV", "Studio": "Amazon Studios", "AIR_Raters": 2, "Summary": "Showcases disabled characters with creativity and dignity, featuring accessibility as a key theme woven into a fantastical narrative.", "RT_Critic": 88, "RT_Audience": 95, "IMDb": 7.9, "Metacritic": 68, "Awards_Wins": 8, "Awards_Noms": 21, "Age_Kids": false, "Age_Teens": false, "Age_EarlyAdults": false, "Age_Adults": true, "Primary_Age": "Adults"}, {"Title": "Gordita Chronicles", "Type": "TV", "Studio": "HBO Max", "AIR_Raters": 2, "Summary": "Celebrates immigrant pride and Latina girlhood with heart and humor, offering a bold and joyful addition to coming-of-age immigrant stories.", "RT_Critic": 100, "RT_Audience": 83, "IMDb": 7.5, "Metacritic": null, "Awards_Wins": 1, "Awards_Noms": 2, "Age_Kids": true, "Age_Teens": true, "Age_EarlyAdults": false, "Age_Adults": false, "Primary_Age": "Kids"}, {"Title": "Grey's Anatomy", "Type": "TV", "Studio": "ABC", "AIR_Raters": 4, "Summary": "Strong female leadership across racial and ethnic lines, authentic depictions of caregiving, reproductive choices, and inclusive family dynamics.", "RT_Critic": 84, "RT_Audience": 73, "IMDb": 7.6, "Metacritic": 64, "Awards_Wins": 88, "Awards_Noms": 257, "Age_Kids": false, "Age_Teens": false, "Age_EarlyAdults": false, "Age_Adults": true, "Primary_Age": "Adults"}, {"Title": "Hacks", "Type": "TV", "Studio": "HBO Max", "AIR_Raters": 2, "Summary": "Centers on a vibrant older woman navigating career and relationships, while exploring generational female friendship and challenges of aging in entertainment.", "RT_Critic": 99, "RT_Audience": 90, "IMDb": 8.2, "Metacritic": 86, "Awards_Wins": 83, "Awards_Noms": 218, "Age_Kids": false, "Age_Teens": false, "Age_EarlyAdults": false, "Age_Adults": true, "Primary_Age": "Adults"}, {"Title": "Heartbreak High", "Type": "TV", "Studio": "Netflix", "AIR_Raters": 2, "Summary": "Authentic, natural integration of diversity that reflects the realities of modern teenage life in a refreshingly real school environment.", "RT_Critic": 78, "RT_Audience": 90, "IMDb": 7.7, "Metacritic": null, "Awards_Wins": 11, "Awards_Noms": 25, "Age_Kids": false, "Age_Teens": true, "Age_EarlyAdults": false, "Age_Adults": false, "Primary_Age": "Teens"}, {"Title": "Insecure", "Type": "TV", "Studio": "HBO Max", "AIR_Raters": 4, "Summary": "Inclusive portrayal of Black culture, with complex female friendships, family caregiving stories, and groundbreaking interracial relationship dynamics.", "RT_Critic": 97, "RT_Audience": 82, "IMDb": 8.1, "Metacritic": 84, "Awards_Wins": 46, "Awards_Noms": 144, "Age_Kids": false, "Age_Teens": false, "Age_EarlyAdults": false, "Age_Adults": true, "Primary_Age": "Adults"}, {"Title": "Interview With The Vampire", "Type": "TV", "Studio": "AMC", "AIR_Raters": 2, "Summary": "Provides a richly diverse cast and explores Creole culture, queerness, and systemic issues through an emotionally layered and visually striking narrative.", "RT_Critic": 98, "RT_Audience": 77, "IMDb": 7.3, "Metacritic": 83, "Awards_Wins": 4, "Awards_Noms": 43, "Age_Kids": false, "Age_Teens": false, "Age_EarlyAdults": false, "Age_Adults": true, "Primary_Age": "Adults"}, {"Title": "Lopez vs. Lopez", "Type": "TV", "Studio": "NBCUniversal", "AIR_Raters": 4, "Summary": "Centers on intergenerational family life and showcases racial and gender intersections with humor, authenticity, and evolving cultural conversations.", "RT_Critic": 60, "RT_Audience": 64, "IMDb": 6.2, "Metacritic": 51, "Awards_Wins": 0, "Awards_Noms": 6, "Age_Kids": false, "Age_Teens": false, "Age_EarlyAdults": false, "Age_Adults": true, "Primary_Age": "Adults"}, {"Title": "Marvel's Echo", "Type": "TV", "Studio": "Disney", "AIR_Raters": 3, "Summary": "Puts a Native American female lead front and center while celebrating Indigenous culture in a genre where such representation is rare.", "RT_Critic": 70, "RT_Audience": 59, "IMDb": 6.0, "Metacritic": 62, "Awards_Wins": 2, "Awards_Noms": 4, "Age_Kids": false, "Age_Teens": false, "Age_EarlyAdults": false, "Age_Adults": true, "Primary_Age": "Adults"}, {"Title": "Monica", "Type": "Film", "Studio": "IFC Films", "AIR_Raters": 2, "Summary": "Highlights inclusive in-home caregiving with emotional sensitivity, portraying care circles and chronic illness in a non-medicalized, human way.", "RT_Critic": 84, "RT_Audience": 97, "IMDb": 6.4, "Metacritic": 75, "Awards_Wins": 5, "Awards_Noms": 17, "Age_Kids": false, "Age_Teens": false, "Age_EarlyAdults": false, "Age_Adults": true, "Primary_Age": "Adults"}, {"Title": "Monkey Man", "Type": "Film", "Studio": "Netflix", "AIR_Raters": 2, "Summary": "Engages Hindu mythology and Indian sociopolitics, while portraying South Asian masculinity and gender-diverse communities in empowering ways.", "RT_Critic": 89, "RT_Audience": 84, "IMDb": 6.9, "Metacritic": 70, "Awards_Wins": 6, "Awards_Noms": 13, "Age_Kids": false, "Age_Teens": false, "Age_EarlyAdults": false, "Age_Adults": true, "Primary_Age": "Adults"}, {"Title": "Never Have I Ever", "Type": "TV", "Studio": "Netflix", "AIR_Raters": 2, "Summary": "A heartfelt and funny depiction of Indian American adolescence, grief, friendship, and personal growth, breaking stereotypes around Asian representation.", "RT_Critic": 93, "RT_Audience": 86, "IMDb": 7.8, "Metacritic": 81, "Awards_Wins": 8, "Awards_Noms": 22, "Age_Kids": false, "Age_Teens": true, "Age_EarlyAdults": false, "Age_Adults": false, "Primary_Age": "Teens"}, {"Title": "Nyad", "Type": "Film", "Studio": "Netflix", "AIR_Raters": 2, "Summary": "Centers on older queer women in a powerful sports narrative, celebrating athleticism, friendship, and defiance of age and gender-based norms.", "RT_Critic": 85, "RT_Audience": 97, "IMDb": 7.1, "Metacritic": 63, "Awards_Wins": 9, "Awards_Noms": 37, "Age_Kids": false, "Age_Teens": false, "Age_EarlyAdults": false, "Age_Adults": true, "Primary_Age": "Adults"}, {"Title": "Origin", "Type": "Film", "Studio": "ARRAY Filmworks", "AIR_Raters": 2, "Summary": "Richly integrates themes of caregiving and racial equity, portraying hands-on male caregivers and intersectional challenges with depth and cultural accuracy.", "RT_Critic": 82, "RT_Audience": 93, "IMDb": 7.2, "Metacritic": 75, "Awards_Wins": 6, "Awards_Noms": 30, "Age_Kids": false, "Age_Teens": false, "Age_EarlyAdults": false, "Age_Adults": true, "Primary_Age": "Adults"}, {"Title": "Our Flag Means Death", "Type": "TV", "Studio": "HBO Max 2 No qualitative feedback available. 95% 96% 7.8 72 3 27 Past Lives Film A24", "AIR_Raters": 2, "Summary": "Poignantly explores immigration, identity, and love with a strong Asian female lead who pursues her professional dreams and cultural reconciliation.", "RT_Critic": 95, "RT_Audience": 84, "IMDb": 7.8, "Metacritic": 94, "Awards_Wins": 81, "Awards_Noms": 232, "Age_Kids": false, "Age_Teens": false, "Age_EarlyAdults": false, "Age_Adults": true, "Primary_Age": "Adults"}, {"Title": "", "Type": "Film", "Studio": "A24", "AIR_Raters": 2, "Summary": "Poignantly explores immigration, identity, and love with a strong Asian female lead who pursues her professional dreams and cultural reconciliation.", "RT_Critic": 95, "RT_Audience": 84, "IMDb": 7.8, "Metacritic": 94, "Awards_Wins": 81, "Awards_Noms": 232, "Age_Kids": false, "Age_Teens": false, "Age_EarlyAdults": false, "Age_Adults": true, "Primary_Age": "Adults"}, {"Title": "Polite Society", "Type": "Film", "Studio": "Focus Features", "AIR_Raters": 3, "Summary": "Uplifting portrayal of immigrant daughters with creative ambitions, showcasing supportive parent-child dynamics and avoiding typical cultural conflict tropes.", "RT_Critic": 91, "RT_Audience": 84, "IMDb": 6.6, "Metacritic": 75, "Awards_Wins": 4, "Awards_Noms": 22, "Age_Kids": true, "Age_Teens": true, "Age_EarlyAdults": false, "Age_Adults": false, "Primary_Age": "Kids"}, {"Title": "Pose", "Type": "TV", "Studio": "FX", "AIR_Raters": 3, "Summary": "Revolutionary in its trans and queer representation, especially of Black and Brown trans women, with empowering storytelling rooted in authenticity.", "RT_Critic": 98, "RT_Audience": 88, "IMDb": 8.6, "Metacritic": 76, "Awards_Wins": 47, "Awards_Noms": 142, "Age_Kids": false, "Age_Teens": false, "Age_EarlyAdults": false, "Age_Adults": true, "Primary_Age": "Adults"}, {"Title": "Red, White & Royal Blue", "Type": "Film", "Studio": "Amazon Studios", "AIR_Raters": 2, "Summary": "Romantic comedy that centers a queer couple in a political and royal setting, highlighting intimacy, identity, and acceptance without trauma framing.", "RT_Critic": 75, "RT_Audience": 92, "IMDb": 7.0, "Metacritic": 62, "Awards_Wins": 3, "Awards_Noms": 9, "Age_Kids": false, "Age_Teens": false, "Age_EarlyAdults": true, "Age_Adults": false, "Primary_Age": "Early adults"}, {"Title": "Rustin", "Type": "Film", "Studio": "Netflix", "AIR_Raters": 2, "Summary": "Shines overdue light on civil rights hero Bayard Rustin, celebrating his identity as a proud, gay Black man and his overlooked contributions to history.", "RT_Critic": 84, "RT_Audience": 83, "IMDb": 6.5, "Metacritic": 68, "Awards_Wins": 13, "Awards_Noms": 66, "Age_Kids": false, "Age_Teens": false, "Age_EarlyAdults": false, "Age_Adults": true, "Primary_Age": "Adults"}, {"Title": "Sex Education (Season 4)", "Type": "TV", "Studio": "Netflix", "AIR_Raters": 4, "Summary": "Celebrates diverse identities, thoughtful disability representation, and nuanced portrayals of mental health and adolescent development.", "RT_Critic": 94, "RT_Audience": 78, "IMDb": 8.2, "Metacritic": 78, "Awards_Wins": 21, "Awards_Noms": 79, "Age_Kids": false, "Age_Teens": true, "Age_EarlyAdults": false, "Age_Adults": false, "Primary_Age": "Teens"}, {"Title": "Shrinking", "Type": "TV", "Studio": "Apple TV+", "AIR_Raters": 3, "Summary": "Features intergenerational friendships, strong Black female leads, and authentic conversations about caregiving, aging, and personal reinvention.", "RT_Critic": 91, "RT_Audience": 87, "IMDb": 8.0, "Metacritic": 68, "Awards_Wins": 6, "Awards_Noms": 33, "Age_Kids": false, "Age_Teens": false, "Age_EarlyAdults": false, "Age_Adults": true, "Primary_Age": "Adults"}, {"Title": "Sort Of", "Type": "TV", "Studio": "HBO Max", "AIR_Raters": 2, "Summary": "Groundbreaking for centering a nonbinary South Asian Muslim lead, with thoughtful depictions of mental health, identity, and intersectionality.", "RT_Critic": 100, "RT_Audience": 83, "IMDb": 7.3, "Metacritic": null, "Awards_Wins": 34, "Awards_Noms": 71, "Age_Kids": false, "Age_Teens": false, "Age_EarlyAdults": false, "Age_Adults": true, "Primary_Age": "Adults"}, {"Title": "Spider-Man: Across the Spider-Verse", "Type": "Film", "Studio": "Sony Pictures", "AIR_Raters": 4, "Summary": "A landmark in representation, featuring strong Latino and trans-coded characters, diverse heroes, and empowering messages about identity and inclusion.", "RT_Critic": 95, "RT_Audience": 94, "IMDb": 8.6, "Metacritic": 86, "Awards_Wins": 106, "Awards_Noms": 164, "Age_Kids": false, "Age_Teens": true, "Age_EarlyAdults": false, "Age_Adults": false, "Primary_Age": "Teens"}, {"Title": "Station 19", "Type": "TV", "Studio": "ABC", "AIR_Raters": 4, "Summary": "Featured LGBTQ+ and interracial family narratives, Black and Latine women in leadership, Korean American representation, and honest portrayals of race, gender, and mental health.", "RT_Critic": null, "RT_Audience": 93, "IMDb": 7.0, "Metacritic": 55, "Awards_Wins": 10, "Awards_Noms": 2, "Age_Kids": false, "Age_Teens": false, "Age_EarlyAdults": false, "Age_Adults": true, "Primary_Age": "Adults"}, {"Title": "Still: A Michael J. Fox Movie", "Type": "Film", "Studio": "Apple TV+", "AIR_Raters": 2, "Summary": "Authentic, humorous, and humanizing portrayal of living with Parkinson’s, celebrating Fox’s activism and dismantling disability stereotypes.", "RT_Critic": 99, "RT_Audience": 95, "IMDb": 8.1, "Metacritic": 78, "Awards_Wins": 47, "Awards_Noms": 40, "Age_Kids": false, "Age_Teens": false, "Age_EarlyAdults": false, "Age_Adults": true, "Primary_Age": "Adults"}, {"Title": "Taste The Nation with Padma Lakshmi", "Type": "TV", "Studio": "Hulu", "AIR_Raters": 2, "Summary": "Richly educates viewers on immigrant cultures through food, offering in-depth looks at community resilience and underrepresented histories.", "RT_Critic": null, "RT_Audience": null, "IMDb": 8.1, "Metacritic": 79, "Awards_Wins": 1, "Awards_Noms": 10, "Age_Kids": false, "Age_Teens": false, "Age_EarlyAdults": false, "Age_Adults": true, "Primary_Age": "Adults"}, {"Title": "The Bear", "Type": "TV", "Studio": "FX", "AIR_Raters": 4, "Summary": "Emotionally complex show with standout portrayals of Black and Latin characters, mental health, caregiving, and women in culinary leadership.", "RT_Critic": 96, "RT_Audience": 79, "IMDb": 8.6, "Metacritic": 87, "Awards_Wins": 110, "Awards_Noms": 167, "Age_Kids": false, "Age_Teens": false, "Age_EarlyAdults": false, "Age_Adults": true, "Primary_Age": "Adults"}, {"Title": "The Cleaning Lady", "Type": "TV", "Studio": "Fox", "AIR_Raters": 2, "Summary": "Shows resourceful immigrant women as leads, balancing work and home life with strength, intelligence, and emotional nuance.", "RT_Critic": null, "RT_Audience": 45, "IMDb": 7.0, "Metacritic": 53, "Awards_Wins": 5, "Awards_Noms": 11, "Age_Kids": false, "Age_Teens": false, "Age_EarlyAdults": false, "Age_Adults": true, "Primary_Age": "Adults"}, {"Title": "The Last of Us", "Type": "TV", "Studio": "HBO Max", "AIR_Raters": 6, "Summary": "Includes rare and meaningful representations of queer romance, disability, and family caregiving in a post-apocalyptic setting.", "RT_Critic": 96, "RT_Audience": 88, "IMDb": 8.7, "Metacritic": 84, "Awards_Wins": 92, "Awards_Noms": 131, "Age_Kids": false, "Age_Teens": false, "Age_EarlyAdults": false, "Age_Adults": true, "Primary_Age": "Adults"}, {"Title": "The Umbrella Academy", "Type": "TV", "Studio": "Netflix", "AIR_Raters": 5, "Summary": "Pushes the boundaries of queer and trans representation in a genre show, with layered character development and mental health themes.", "RT_Critic": 80, "RT_Audience": 61, "IMDb": 7.9, "Metacritic": 64, "Awards_Wins": 13, "Awards_Noms": 62, "Age_Kids": false, "Age_Teens": false, "Age_EarlyAdults": false, "Age_Adults": true, "Primary_Age": "Adults"}, {"Title": "Warrior", "Type": "TV", "Studio": "HBO Max", "AIR_Raters": 2, "Summary": "Delivers nuanced period storytelling with layered characters, grounded in cultural depth and martial arts excellence.", "RT_Critic": 93, "RT_Audience": 96, "IMDb": 8.4, "Metacritic": 72, "Awards_Wins": 1, "Awards_Noms": 12, "Age_Kids": false, "Age_Teens": false, "Age_EarlyAdults": false, "Age_Adults": true, "Primary_Age": "Adults"}, {"Title": "What We Do In The Shadows", "Type": "TV", "Studio": "FX", "AIR_Raters": 5, "Summary": "Features diverse and intersectional characters with rich backstories and evolving identities, subverting stereotypes in hilarious ways.", "RT_Critic": 96, "RT_Audience": 87, "IMDb": 8.6, "Metacritic": 83, "Awards_Wins": 25, "Awards_Noms": 196, "Age_Kids": false, "Age_Teens": false, "Age_EarlyAdults": false, "Age_Adults": true, "Primary_Age": "Adults"}, {"Title": "With Love", "Type": "TV", "Studio": "Amazon Studios", "AIR_Raters": 3, "Summary": "Offers warm, layered depictions of Latinx culture and queer identity, with multidimensional characters navigating love and family.", "RT_Critic": 100, "RT_Audience": 80, "IMDb": 7.2, "Metacritic": 75, "Awards_Wins": 0, "Awards_Noms": 7, "Age_Kids": false, "Age_Teens": false, "Age_EarlyAdults": true, "Age_Adults": false, "Primary_Age": "Early adults"}, {"Title": "XO, Kitty", "Type": "TV", "Studio": "Netflix", "AIR_Raters": 3, "Summary": "Centers Asian American identity and queer coming-of-age in a Korean setting, blending cultural exploration with teenage self-discovery.", "RT_Critic": 81, "RT_Audience": 56, "IMDb": 6.5, "Metacritic": 68, "Awards_Wins": 1, "Awards_Noms": 3, "Age_Kids": false, "Age_Teens": true, "Age_EarlyAdults": false, "Age_Adults": false, "Primary_Age": "Teens"}];
    const SUGGESTIONS = ["mental health", "trans", "black", "asian"];

    function getSelectedTypes() { const sel = document.getElementById('typeFilter'); return Array.from(sel.selectedOptions).map(o => o.value); }
    function getSelectedAges() { const sel = document.getElementById('ageFilter'); return Array.from(sel.selectedOptions).map(o => o.value); }

    function filterData() { 
      const types = getSelectedTypes(); 
      const ages = getSelectedAges();
      return DATA.filter(d => {
        const typeOk = types.length ? types.includes(d.Type) : true;
        const ageOk = ages.length ? ((ages.includes('Kids') && d.Age_Kids) || (ages.includes('Teens') && d.Age_Teens) || (ages.includes('Early adults') && d.Age_EarlyAdults) || (ages.includes('Adults') && d.Age_Adults)) : true;
        return typeOk && ageOk;
      });
    }

    function hitsQuery(d, q) {
      if (!q) return false;
      const s = q.toLowerCase().trim();
      if (!s) return false;
      return (d.Title || '').toLowerCase().includes(s) || (d.Summary || '').toLowerCase().includes(s);
    }

    function symbolFor(type) { return type === 'Film' ? 'square' : 'circle'; }

    function colorConfig(rows) {
      const key = document.getElementById('colorBy').value;
      if (key === 'Type') {
        const film = getComputedStyle(document.documentElement).getPropertyValue('--film').trim();
        const tv = getComputedStyle(document.documentElement).getPropertyValue('--tv').trim();
        return { marker: { color: rows.map(d => d.Type === 'Film' ? film : tv) }, showscale: false };
      } else {
        const arr = rows.map(d => d[key] ?? null);
        return { marker: { color: arr, colorscale: 'Viridis', showscale: true, colorbar: { title: key } } };
      }
    }

    function wrapText(txt, maxCharsPerLine=48, maxLines=4) {
      if (!txt) return '';
      const words = String(txt).split(/\s+/);
      let lines = []; let cur = ''; let i = 0;
      while (i < words.length) {
        const w = words[i];
        if ((cur + ' ' + w).trim().length <= maxCharsPerLine) { cur = (cur ? cur + ' ' : '') + w; i++; }
        else { lines.push(cur); cur = w; i++; if (lines.length >= maxLines - 1) break; }
      }
      const remaining = words.slice(i).join(' ');
      lines.push(cur + (remaining ? '…' : ''));
      return lines.slice(0, maxLines).join('<br>');
    }

    function baseTrace(rows, q) {
      const colorCfg = colorConfig(rows);
      const opacity = q ? 0.35 : 0.95;
      return {
        x: rows.map(d => d.RT_Audience),
        y: rows.map(d => d.RT_Critic),
        mode: document.getElementById('showLabels').checked ? 'markers+text' : 'markers',
        text: document.getElementById('showLabels').checked ? rows.map(d => d.Title) : undefined,
        textposition: 'top center',
        textfont: { size: 11, color: '#e5e7eb' },
        cliponaxis: false,
        marker: Object.assign({
          size: rows.map(d => (d.AIR_Raters||0) * 6 + 10),
          symbol: rows.map(d => symbolFor(d.Type)),
          line: { width: 0.8, color: 'rgba(255,255,255,0.6)' },
          opacity: opacity
        }, colorCfg.marker || {}),
        hovertemplate:
          '<b>%{customdata[0]}</b><br>' +
          'Type: %{customdata[1]} | Primary age: %{customdata[8]}<br>' +
          'AIR raters (size): %{customdata[2]}<br>' +
          'Critics: %{y}% | Audience: %{x}%<br>' +
          'IMDb: %{customdata[3]} | Metacritic: %{customdata[4]}<br>' +
          'Awards (W/N): %{customdata[5]}/%{customdata[6]}<br>' +
          'Summary:<br>%{customdata[7]}<extra></extra>',
        customdata: rows.map(d => [d.Title, d.Type, d.AIR_Raters, d.IMDb, d.Metacritic, d.Awards_Wins, d.Awards_Noms, wrapText(d.Summary, 48, 4), d.Primary_Age])
      };
    }

    function highlightTrace(rows, q) {
      if (!q) return null;
      const hits = rows.filter(d => hitsQuery(d, q));
      if (!hits.length) return null;
      return {
        x: hits.map(d => d.RT_Audience),
        y: hits.map(d => d.RT_Critic),
        mode: 'markers+text',
        text: hits.map(d => '★ ' + d.Title),
        textposition: 'top center',
        textfont: { size: 13, color: '#e5e7eb' },
        cliponaxis: false,
        marker: {
          size: hits.map(d => (d.AIR_Raters||0) * 8 + 20),
          symbol: hits.map(d => d.Type === 'Film' ? 'square' : 'circle'),
          line: { width: 2, color: '#f8fafc' },
          color: '#d62728',
          opacity: 1.0
        },
        hovertemplate:
          '<b>%{customdata[0]}</b><br>' +
          'Type: %{customdata[1]} | Primary age: %{customdata[8]}<br>' +
          'AIR raters (size): %{customdata[2]}<br>' +
          'Critics: %{y}% | Audience: %{x}%<br>' +
          'IMDb: %{customdata[3]} | Metacritic: %{customdata[4]}<br>' +
          'Awards (W/N): %{customdata[5]}/%{customdata[6]}<br>' +
          'Summary:<br>%{customdata[7]}<extra></extra>',
        customdata: hits.map(d => [d.Title, d.Type, d.AIR_Raters, d.IMDb, d.Metacritic, d.Awards_Wins, d.Awards_Noms, wrapText(d.Summary, 48, 4), d.Primary_Age])
      };
    }

    function draw() {
      const rows = filterData();
      const q = document.getElementById('searchTitle').value;
      const traces = [baseTrace(rows, q)];
      const hi = highlightTrace(rows, q);
      if (hi) traces.push(hi);
      const layout = {
        xaxis: { title: 'Audience (Rotten Tomatoes %)', range: [38, 102], zeroline: false, color: '#cbd5e1', gridcolor: '#1f2937' },
        yaxis: { title: 'Critics (Rotten Tomatoes %)', range: [38, 102], zeroline: false, color: '#cbd5e1', gridcolor: '#1f2937' },
        margin: { l: 80, r: 60, t: 30, b: 60 },
        paper_bgcolor: '#111827',
        plot_bgcolor: '#111827',
        shapes: [
          {type: 'line', x0: 70, x1: 70, y0: 38, y1: 102, line: {dash: 'dot', width: 1, color: '#94a3b8'}},
          {type: 'line', x0: 38, x1: 102, y0: 70, y1: 70, line: {dash: 'dot', width: 1, color: '#94a3b8'}}
        ],
        showlegend: false,
        hoverlabel: {
          align: 'left',
          font: { family: 'ui-monospace, SFMono-Regular, Menlo, monospace', size: 13, color: '#F8FAFC' },
          bgcolor: 'rgba(17,24,39,0.98)',
          bordercolor: '#0ea5e9'
        }
      };
      Plotly.react('plot', traces, layout, { responsive: true, displayModeBar: false });
    }

    function resetAll() {
      for (const selId of ['typeFilter','ageFilter']) { const sel = document.getElementById(selId); for (const opt of sel.options) opt.selected = true; }
      document.getElementById('showLabels').checked = true;
      document.getElementById('colorBy').value = 'Type';
      document.getElementById('searchTitle').value = '';
      draw();
    }

    function downloadPng() {
      const node = document.getElementById('plot');
      Plotly.toImage(node, { format: 'png', width: 1400, height: 900, scale: 2 }).then(function(dataUrl) {
        const a = document.createElement('a');
        a.href = dataUrl;
        a.download = 'AIR_quadrant.png';
        document.body.appendChild(a);
        a.click(); a.remove();
      });
    }

    function mountChips() {
      const el = document.getElementById('searchChips');
      el.innerHTML = '';
      SUGGESTIONS.forEach(s => {
        const chip = document.createElement('span');
        chip.className = 'chip';
        chip.textContent = s;
        chip.title = 'Click to search';
        chip.onclick = () => { document.getElementById('searchTitle').value = s; draw(); };
        el.appendChild(chip);
      });
    }

    // init
    mountChips();
    resetAll();
    if (window.innerWidth < 640) { const show = document.getElementById('showLabels'); if (show) show.checked = false; draw(); }

    // bind
    ;['typeFilter','ageFilter','showLabels','colorBy','searchTitle'].forEach(id => {
      document.getElementById(id).addEventListener('input', draw);
      document.getElementById(id).addEventListener('change', draw);
    });
    document.getElementById('resetBtn').addEventListener('click', function(e){ e.preventDefault(); resetAll(); });
    document.getElementById('downloadBtn').addEventListener('click', function(e){ e.preventDefault(); downloadPng(); });
  </script>
</body>
</html>
